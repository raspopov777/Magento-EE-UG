
### Navigation

__Dynamic Media URLs in Products and Categories__ - настроить в `configuration > catalog > frontend`.
Если эта настройка была включена, а позже выключена, то, каждая ссылка в каталоге будет появляться как broken link. 
Но это можно вернуть, включив динамические медиа урлы обратно. 

__Static URLs for Media__ - настроить в`configuration > content managment`.
Урл не обновится, если мы поменяем base-url сайта, в этом вся фишка. 

##### Layered Navigation

Чтобы добавить атрибут в __Layered Navigation__, нужно: 
1. Выбрать атрибут в `Catalog > Attributes > Manage Attributes`, далее перейти в `Frontend Properties` и
настроить поля `Use In Layered Navigation` и `Use In Search Results Layered Navigation`.
2. Проверить включена ли в нужной категории __Layered Navigation__, для этого перейти в категорию и 
на вкладке ` Display Settings` установить в поле `Is Anchor` да.


### Categories

_Root category_ может быть одна для `store` и `store view`. Он не отображается клиентам и не имеет URL - ключа.

Установить максимальную глубину категорий в навигации - `System > Configuration > CATALOG > Catalog > Category Top Navigation`
Если значение `0`, то глубина не ограничена.

##### Hidden Categories

Чтобы сделать категорию скрытной, нужно в категории и подкатегорях:
1. На вкладке `General Information` установить:
    * `Is Active` на `No`
    * `Include in Navigation Menu` на `No`
2. На вкладке `Display Settings` установить `Is Anchor` на `No`

`Is Anchor` - включает "фильтр по атрибуту" в `layered navigation`



URL-адрес является относительным путем к категории и автоматически генерируется при сохранении категории. 
Ключ URL должен быть всем строчным символом без пробелов. Как лучшая практика, каждое слово разделяется дефисом. 
Если вы редактируете ключ URL по умолчанию, настраиваемый переадресация создается автоматически. 

Page Title - лучшей практикой считается чтобы заголовок имел длину не более двенадцати слов и включал комбинацию первичных и вторичных ключевых слов.

Meta Keywords - общее правило - использовать не более тридцати ключевых слов или 180 символов. Избегать повторений и пустых слов.

### Flat Catalog
Magento обычно хранит данные каталога в нескольких таблицах на основе модели Entity-AttributeValue (EAV1). 
Поскольку атрибуты хранятся во многих таблицах, запросы SQL иногда являются длинными и сложными. 
Напротив, плоский каталог создает новые таблицы «на лету», где каждая строка содержит все необходимые данные о продукте или категории. 
Плоский каталог обновляется автоматически - каждую минуту или в соответствии с заданным значением в cron. 
Индексация плоского каталога также применяется к правилам цен в каталоге и в корзине покупок. 

### Creating Products

Виды продуктов:

__Simple product__ - продукт с одним SKU.
    * Может иметь кастомные опции (позволяет продавать множество вариантов продукта из одного SKU)
    * Кастомные опции не отслеживаются как отдельные элементы инвенторя. 
    * Если включен в `configurable` или `bundle`, то не может иметь кастомных опций.

__Virtual product__ - физически не существует, обычно используются как услуги, гарантии и подписки. 

__Downloadable product__ - продукт, который состоит из одного или нескольких загружаемых файлов (видео, электронная книга).
    * Можно определить сколько раз клиент может скачивать продукт.
    * Могут быть доставлены когда заказы в состоянии “Pending” или “Invoiced”.
    
Shareable:
1. No - предотвращает покупки требуя входа в учетную запись для доступа к ссылке.
2. Yes - позволяет отправлять ссылку по электронной почте, которая затем может быть передана другим пользователям.
    
Use Content Disposition:
1. Attachment - ссылка для загрузки в виде вложения электронной почты.
2. Inline - ссылка встроенна на веб-странице.

__Сonfigurable product__ - единый продукт со списками опций для каждого варианта.
    * Каждый вариант представляет собой `Simple` прдукт с отдельным SKU.
    * В отличие от Simple product со множеством кастомных опций позволяет отслеживать инвентарь для каждого варианта.
    * Swatches могут использоваться вместо выпадающих списков для вариантов продукта.

__Grouped product__ - несколько автономных (связанных) продуктов в виде группы (могут быть различные вариации одного продукта). 
Приобретать можно как в виде группы, так и по отдельности.
    * Составляющими могут быть только `Simple` и `virtual` продукты.

__Bundle product__ - позволяет клиентам создавать свои собственные продукты из ассортимента продуктов.
    * Составляющими могут быть только `Simple` и `virtual` продукты.
    * Цена может быть фиксированной и динамической.
    * Если цена настроена как динамическая, то настроить опции не получится. 
    * Цена может быть настроена как`As Low As` (у Ильи было вот что написано по этому поводу: если берем 2шт., то возьмется по уменьшенной цене за 1шт. )

__Gift Card product__ - подарочные карты.
    * Применяются к корзине, может быть применено несколько карт одновременно.
    * Если применяется несколько карт, то сначала применяются карты с наименьшим остатком.
    * Суммы отображаются в валюте магазина, но после добавления в корзину фактическая цена преобразуется в базовую валюту.
    * При отмене заказа необходимо вручную отменить подарочную карту.
    * Срок действия подарочной карты может быть ограниченным.
    * Счет подарочной карты может быть создан при размещении заказа или во время выставления счета.
    * Могут быть выкупаемыми и невыкупаемыми.
    * Стоимость может быть установлена как фиксированная или открытая с минимальным и максимальным значением.

Типы подарочных карт: 
1. _виртуальные_ (отправляются по электронной почте)
2. _физические_
3. _комбинированные_ (комбинация физических и виртуальных). 


Способы показывать цены: 
* __Price Range__ - диапозон от наименее дорогостоящего к наиболее дорогостоящему.
* __As low as__ - наименее дорогостоящий чем.

### Swatches

Чтобы идентифицировать изображение как образец, связанный с этим конкретным продуктом 
необходимо вводить в поле `Label` значение для каждого загруженного изображения в следующем формате: `"цвет"-"образец"`. 

### Product Pricing

__Subtotal price__ – в валюте клиента.

__Base Subtotal price__ - в вашей базовой валюте магазина. 

`Promotional price` определяется по `catalog price rule` или по следующим атрибутам:
* _special price_ - чтобы ее отобразить нужно ввести скидку и заполнить диапозон дат.
* _group price_ - рекламные цены для выбранных клиентов на выбранном сайте.
* _tier price_ - скидка на количество.

Если установлены `Special Price` и `Tier Price`, то `Special Price` перебьет и отменит `Tier Price`.

Для продукта можно установить только одну `Tier Price`. Чтобы сделать разные цены для разных групп клиентов, то нужно
создать новый товар (__не точно__).

Если задана `group price`, то  `catalog price rules` применяются к `group price`, а не `regular price`

##### MAP

`MAP` - если применен, то скрывает цену. 
__Display Actual Price__ - определяет когда клиент видит фактическую цену продукта если применен `MAP`.

Правила:
* `MAP` относится к основной цене, или к`special price` если он установлен.
* Если нет основной цены (цена определяется связанными продуктами), то используются специальные настройки `MAP` для связанны хпродуктов. 
* `MAP` не относится к цене опций, bundle items и связанных продуктов отображаются нормально.
* Если задан `their price`, то отображается уведомление, указывающее, что цена может быть ниже при заказе более 
определенного количества, но скидка отображается только в процентах.
Для связанных продуктов сгруппированного продукта скидки не отображаются.
